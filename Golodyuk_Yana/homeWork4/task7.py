# Задача 7

# Друзья друзей Теория шести рукопожатий — социологическая теория, 
# согласно которой любые два человека на Земле разделены не более, 
# чем пятью уровнями общих знакомых (и, соответственно, шестью уровнями связей). 
# Формальная математическая формулировка теории: диаметр графа знакомств не превышает 6. 
# Мы не станем так сильно углубляться в дружественные связи и пока нам хватит только двух уровней. 
# Напишите программу, которая по списку дружественных пар для каждого человека определяет 
# список «друзей 2-го уровня».
# Формат ввода В каждой строке записывается два имени. Окончанием ввода служит пустая строка.
# Формат вывода Выведите список всех людей и их «друзей 2-го уровня» в формате «Человек: Друг1, Друг2, ...».
# Список людей и друзей в каждой строке требуется вывести в алфавитном порядке без повторений.
# Ввод
# Иванов Петров
# Иванов Сергеев
# Васильев Петров
# Сергеев Яковлев
# Петров Кириллов
# Петров Яковлев
# Вывод
# Васильев: Иванов, Кириллов, Яковлев
# Иванов: Васильев, Кириллов, Яковлев
# Кириллов: Васильев, Иванов, Яковлев
# Петров: Сергеев
# Сергеев: Петров
# Яковлев: Васильев, Иванов, Кириллов

def find_second_level_friends(friendships):
    friends = {}
    for person1, person2 in friendships:
        friends.setdefault(person1, set()).add(person2)
        friends.setdefault(person2, set()).add(person1)
    
    return {person: sorted(friends[friend] for friend in direct_friends) for person, direct_friends in friends.items()}

if __name__ == "__main__":
    friendships = []
    while True:
        line = input().strip()
        if not line:
            break
        person1, person2 = line.split()
        friendships.append((person1, person2))

    second_level_friends = find_second_level_friends(friendships)

    for person, friends in sorted(second_level_friends.items()):
        print(f"{person}: {' '.join(friends)}")